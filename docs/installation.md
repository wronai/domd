# TodoMD - Instrukcja Instalacji i U≈ºycia

## üöÄ Szybka Instalacja

### 1. Przygotowanie ≈õrodowiska

```bash
# Sprawd≈∫ Python (wymagane 3.8+)
python --version

# Zainstaluj Poetry (je≈õli nie masz)
curl -sSL https://install.python-poetry.org | python3 -
```

### 2. Klonowanie i budowanie

```bash
# Sklonuj repozytorium
git clone https://github.com/yourusername/todomd.git
cd todomd

# Automatyczna konfiguracja (uruchom skrypt setup)
chmod +x scripts/setup_project.sh
./scripts/setup_project.sh
```

### 3. Alternatywnie - manualna instalacja

```bash
# Zainstaluj zale≈ºno≈õci
poetry install --with dev,docs,testing,lint

# Zainstaluj pre-commit hooks
poetry run pre-commit install

# Formatuj kod
poetry run black src/ tests/
poetry run isort src/ tests/

# Uruchom testy
poetry run pytest

# Zbuduj paczkƒô
poetry build
```

## üì¶ Instalacja z PyPI (gdy bƒôdzie opublikowane)

```bash
# Podstawowa instalacja
pip install todomd

# Z dodatkowymi funkcjami
pip install todomd[all]

# Przy u≈ºyciu Poetry
poetry add todomd
```

## üîß Podstawowe u≈ºycie

### Skanowanie bie≈ºƒÖcego projektu

```bash
# Podstawowe skanowanie
todomd

# Tryb podglƒÖdu (bez wykonywania komend)
todomd --dry-run

# Szczeg√≥≈Çowe informacje
todomd --verbose
```

### Przyk≈Çad wyj≈õcia

```
TodoMD v0.1.0
Scanning project: /home/user/my-project

Found 5 configuration files:
  - package.json
  - Makefile  
  - pyproject.toml
  - docker-compose.yml
  - tox.ini

Found 12 commands to test

Testing commands...

[1/12] Testing: NPM script - test
Command: npm run test
Source: package.json
‚úÖ SUKCES

[2/12] Testing: NPM script - build  
Command: npm run build
Source: package.json
‚ùå B≈ÅƒÑD

[3/12] Testing: Make target - install
Command: make install
Source: Makefile
‚úÖ SUKCES

...

==================================================
EXECUTION SUMMARY
==================================================
‚úÖ Successful: 9/12
‚ùå Failed: 3/12
üìä Success rate: 75.0%
üìù Check output file for failed command details
```

## üéØ Zaawansowane opcje

### Kustomizacja skanowania

```bash
# Skanowanie konkretnego projektu
todomd --path /≈õcie≈ºka/do/projektu

# W≈Çasny plik wyj≈õciowy
todomd --output FAILED_TASKS.md

# R√≥≈ºne formaty wyj≈õcia
todomd --format json      # JSON
todomd --format text      # Zwyk≈Çy tekst
todomd --format markdown  # Markdown (domy≈õlny)

# Timeout dla komend (domy≈õlnie 60s)
todomd --timeout 120

# Wykluczanie plik√≥w
todomd --exclude "*.test.js" --exclude "node_modules/*"

# Tylko konkretne pliki
todomd --include-only "Makefile" --include-only "package.json"
```

### Tryby dzia≈Çania

```bash
# Tryb cichy (tylko b≈Çƒôdy)
todomd --quiet

# Tryb szczeg√≥≈Çowy
todomd --verbose

# Kombinacje
todomd --path ./frontend --dry-run --verbose
todomd --quiet --format json --output results.json
```

## üìä Przyk≈Çady generowanych raport√≥w

### TODO.md (Markdown)

```markdown
# TODO - Failed Project Commands

Automatically generated by TodoMD
Date: 2025-06-06 10:30:15
Project: /home/user/my-project

Found **2** commands that require fixing:

## Task 1: NPM script - build

**Source:** `package.json`
**Return Code:** 1
**Execution Time:** 3.45s

### Command to fix:
```bash
npm run build
```

### Error:
```
Error: Cannot find module 'webpack'
npm ERR! missing script: build
```

### Suggested Actions:
- [ ] Check if all dependencies are installed
- [ ] Verify command syntax and arguments  
- [ ] Check file permissions and access rights
- [ ] Review error logs for specific issues
- [ ] Ensure required tools/binaries are available

---
```

### Results.json (JSON)

```json
{
  "generated_at": "2025-06-06T10:30:15.123456",
  "project_path": "/home/user/my-project",
  "total_failed": 2,
  "failed_commands": [
    {
      "command": "npm run build",
      "description": "NPM script - build",
      "source": "package.json",
      "type": "npm_script",
      "return_code": 1,
      "execution_time": 3.45,
      "error": "Error: Cannot find module 'webpack'"
    }
  ]
}
```

## üîó Integracja z narzƒôdziami

### GitHub Actions

```yaml
name: Project Health Check
on: [push, pull_request]

jobs:
  health:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3
    - uses: actions/setup-python@v4
      with:
        python-version: '3.9'
    - name: Install TodoMD
      run: pip install todomd
    - name: Health Check
      run: todomd --verbose
    - name: Upload TODO if failed
      if: failure()
      uses: actions/upload-artifact@v3
      with:
        name: failed-commands
        path: TODO.md
```

### Pre-commit Hook

```yaml
# .pre-commit-config.yaml
repos:
  - repo: local
    hooks:
      - id: todomd-check
        name: Project Health Check
        entry: todomd
        language: system
        pass_filenames: false
        always_run: true
```

### Makefile Integration

```makefile
# Dodaj do swojego Makefile
.PHONY: health-check
health-check:
	@echo "üîç Checking project health..."
	@todomd --quiet || (echo "‚ùå Some commands failed. Check TODO.md" && exit 1)
	@echo "‚úÖ All project commands working!"

.PHONY: health-report  
health-report:
	@todomd --dry-run --verbose
	
.PHONY: health-full
health-full:
	@todomd --verbose --format json --output health-report.json
	@echo "üìä Full health report saved to health-report.json"
```

## üß™ Programmatic API

### Python API

```python
from todomd import ProjectCommandDetector

# Podstawowe u≈ºycie
detector = ProjectCommandDetector("./my-project")
commands = detector.scan_project()
print(f"Found {len(commands)} commands")

# Testowanie komend
detector.test_commands(commands)

# Generowanie raportu
detector.generate_output_file("RESULTS.md", "markdown")

# Statystyki
stats = detector.get_statistics()
print(f"Success rate: {stats['success_rate']:.1f}%")

# Eksport szczeg√≥≈Çowych wynik√≥w
detector.export_results("detailed_results.json")
```

### Zaawansowane konfiguracje

```python
# Z wykluczeniami i timeout
detector = ProjectCommandDetector(
    project_path="./big-project",
    timeout=120,
    exclude_patterns=["*.pyc", "__pycache__/*", "node_modules/*"],
    include_patterns=["Makefile", "package.json", "pyproject.toml"]
)

# Skanowanie i analiza
commands = detector.scan_project()
detector.test_commands(commands)

# R√≥≈ºne formaty wyj≈õcia
detector.generate_output_file("TODO.md", "markdown")
detector.generate_output_file("results.json", "json")
detector.generate_output_file("summary.txt", "text")

# Wy≈õwietl podsumowanie
detector.print_summary()

# Dostƒôp do nieudanych komend
for cmd in detector.failed_commands:
    print(f"Failed: {cmd['description']}")
    print(f"Error: {cmd.get('error', 'N/A')}")
    print(f"Source: {cmd['source']}")
    print("---")
```

## üêõ RozwiƒÖzywanie problem√≥w

### Czƒôste problemy

**1. B≈ÇƒÖd: "Command not found"**
```bash
# Sprawd≈∫ czy narzƒôdzie jest zainstalowane
which npm  # lub yarn, make, docker, itp.

# Zainstaluj brakujƒÖce narzƒôdzia
sudo apt install make  # Ubuntu/Debian
brew install make      # macOS
```

**2. B≈ÇƒÖd: "Permission denied"**
```bash
# Sprawd≈∫ uprawnienia
ls -la Makefile
chmod +x scripts/build.sh

# Mo≈ºe wymagane sudo dla niekt√≥rych komend
```

**3. Timeout errors**
```bash
# Zwiƒôksz timeout dla wolnych komend
todomd --timeout 300  # 5 minut
```

**4. Problemy z encoding**
```bash
# Ustaw poprawne kodowanie
export LANG=en_US.UTF-8
export LC_ALL=en_US.UTF-8
```

### Debug mode

```bash
# Maksymalnie szczeg√≥≈Çowe informacje
todomd --verbose --dry-run

# Python debug
PYTHONPATH=src python -m todomd.detector --verbose --path .
```

### Logi

```python
import logging
logging.basicConfig(level=logging.DEBUG)

from todomd import ProjectCommandDetector
detector = ProjectCommandDetector(".")
# Teraz zobaczysz wszystkie debug informacje
```

## üìà Wydajno≈õƒá i optymalizacja

### Dla du≈ºych projekt√≥w

```bash
# Wykluczenie ciƒô≈ºkich folder√≥w
todomd --exclude "node_modules/*" --exclude ".git/*" --exclude "build/*"

# Tylko najwa≈ºniejsze pliki
todomd --include-only "Makefile" --include-only "package.json" --include-only "pyproject.toml"

# Kr√≥tszy timeout dla szybszego skanowania
todomd --timeout 30 --quiet
```

### R√≥wnoleg≈Çe uruchamianie

TodoMD obecnie uruchamia komendy sekwencyjnie dla bezpiecze≈Ñstwa. W przysz≈Çych wersjach planowane jest r√≥wnoleg≈Çe wykonywanie.

## üîÑ Aktualizacje

### Sprawdzanie wersji

```bash
todomd --version
poetry show todomd  # je≈õli zainstalowane przez Poetry
pip show todomd     # je≈õli zainstalowane przez pip
```

### Aktualizacja

```bash
# Pip
pip install --upgrade todomd

# Poetry  
poetry update todomd

# Development version
git pull
poetry install
```

## üìû Wsparcie

- **Dokumentacja**: https://todomd.readthedocs.io
- **Issues**: https://github.com/yourusername/todomd/issues
- **Discussions**: https://github.com/yourusername/todomd/discussions

## üéØ Nastƒôpne kroki

Po zainstalowaniu:

1. **Uruchom na swoim projekcie**: `todomd --dry-run`
2. **Sprawd≈∫ co znaleziono**: przejrzyj listƒô wykrytych komend
3. **Przetestuj**: `todomd --verbose` 
4. **Napraw b≈Çƒôdy**: u≈ºyj wygenerowanego TODO.md
5. **Zintegruj z workflow**: dodaj do CI/CD, pre-commit, Makefile

**Gotowe do u≈ºycia! üöÄ**