# DoMD - Lista zada refaktoryzacyjnych

## Naprawy pilne (kr贸tkoterminowe)
1. [x] Naprawi bd raportowania wykonanych komend w CLI
   - [x] Poprawi funkcj print_summary w cli.py, aby u偶ywaa rzeczywistej liczby przetestowanych komend
   - [x] Zaktualizowa typy w CommandHandler, aby odzwierciedlay mieszane typy (Command i Dict)

## Refaktoryzacja architektury (rednioterminowa)
1. [x] Wprowadzi czyst architektur warstwow
   - [x] Stworzy katalog core/domain z modelami domenowymi
   - [x] Zdefiniowa jasne modele Command i CommandResult
   - [x] Oddzieli wynik wykonania komendy od samej komendy

2. [x] Wprowadzi wzorzec port贸w i adapter贸w
   - [x] Zdefiniowa interfejsy dla repozytori贸w komend
   - [x] Zdefiniowa interfejsy dla wykonawc贸w komend
   - [x] Zdefiniowa interfejsy dla formater贸w raport贸w

3. [x] Zaimplementowa usugi biznesowe
   - [x] CommandService do zarzdzania wykonaniem komend
   - [x] ReportService do generowania raport贸w
   - [ ] ProjectService do zarzdzania projektem

4. [x] Zaimplementowa adaptery
   - [x] CLI adapter (CommandPresenter)
   - [x] Adapter formatera Markdown
   - [x] Adapter repozytorium w pamici

5. [x] Wprowadzi wzorzec fabryki
   - [x] ApplicationFactory do tworzenia i czenia komponent贸w

## Rozszerzenia (dugoterminowe)
1. [ ] Doda REST API
   - [ ] Zaimplementowa adapter REST
   - [ ] Doda dokumentacj API (Swagger/OpenAPI)

2. [ ] Doda interfejs webowy
   - [ ] Zaimplementowa prosty interfejs webowy do zarzdzania komendami

3. [ ] Doda integracj z systemami CI/CD
   - [ ] Doda adapter dla GitLab CI
   - [ ] Doda adapter dla GitHub Actions

4. [ ] Doda system wtyczek
   - [ ] Zdefiniowa interfejs wtyczek
   - [ ] Doda mechanizm adowania wtyczek

## Testy
1. [ ] Doda testy jednostkowe dla ka偶dej warstwy
   - [ ] Testy modeli domenowych
   - [ ] Testy usug biznesowych
   - [ ] Testy adapter贸w

2. [ ] Doda testy integracyjne
   - [ ] Testy przepywu komend od wykrycia do raportu
   - [ ] Testy CLI

3. [ ] Doda testy wydajnociowe
   - [ ] Benchmark wykrywania komend
   - [ ] Benchmark wykonywania komend

TodoMD v0.1.1 - Project Command Detector with .doignore
 Project: /home/tom/github/coboarding/chat
 TODO file: TODO.md
 Script file: todo.sh
 Ignore file: .doignore
2025-06-11 22:14:37 - domd.core.project_detection.detector - WARNING - No parsers found in registry, using legacy parsers
2025-06-11 22:14:37 - domd.core.project_detection.detector - INFO - Initialized 11 parsers
2025-06-11 22:14:37 - domd.core.project_detection.detector - INFO - Scanning project: /home/tom/github/coboarding/chat
2025-06-11 22:14:37 - domd.core.project_detection.detector - INFO - Found 50 configuration files
2025-06-11 22:14:37 - domd.core.parsers.pyproject_toml - ERROR - Error parsing /home/tom/github/coboarding/chat/pyproject.toml: What? mypy already exists?{'mypy': {'python_version': '3.12', 'warn_return_any': True, 'warn_unused_configs': True, 'disallow_untyped_defs': True, 'disallow_incomplete_defs': True, 'check_untyped_defs': True, 'disallow_untyped_decorators': True, 'no_implicit_optional': True, 'warn_redundant_casts': True, 'warn_unused_ignores': True, 'warn_no_return': True, 'warn_unreachable': True, 'overrides': [{'module': ['pydantic.*', 'sqlalchemy.*', 'alembic.*', 'uvicorn.*', 'fastapi.*'], 'disallow_untyped_defs': False}]}, 'black': {'line-length': 88, 'target-version': ['py312'], 'include': '\\.pyi?$'}, 'isort': {'profile': 'black', 'line_length': 88, 'multi_line_output': 3, 'include_trailing_comma': True, 'force_grid_wrap': 0, 'use_parentheses': True, 'ensure_newline_before_comments': True}} (line 116 column 1 char 2693)
Traceback (most recent call last):
  File "/home/tom/github/coboarding/chat/venv/lib/python3.12/site-packages/domd/core/parsers/pyproject_toml.py", line 88, in parse
    data = toml_lib.loads(content)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/tom/github/coboarding/chat/venv/lib/python3.12/site-packages/toml/decoder.py", line 478, in loads
    raise TomlDecodeError("What? " + group +
toml.decoder.TomlDecodeError: What? mypy already exists?{'mypy': {'python_version': '3.12', 'warn_return_any': True, 'warn_unused_configs': True, 'disallow_untyped_defs': True, 'disallow_incomplete_defs': True, 'check_untyped_defs': True, 'disallow_untyped_decorators': True, 'no_implicit_optional': True, 'warn_redundant_casts': True, 'warn_unused_ignores': True, 'warn_no_return': True, 'warn_unreachable': True, 'overrides': [{'module': ['pydantic.*', 'sqlalchemy.*', 'alembic.*', 'uvicorn.*', 'fastapi.*'], 'disallow_untyped_defs': False}]}, 'black': {'line-length': 88, 'target-version': ['py312'], 'include': '\\.pyi?$'}, 'isort': {'profile': 'black', 'line_length': 88, 'multi_line_output': 3, 'include_trailing_comma': True, 'force_grid_wrap': 0, 'use_parentheses': True, 'ensure_newline_before_comments': True}} (line 116 column 1 char 2693)
2025-06-11 22:14:37 - domd.core.project_detection.detector - INFO - Found 77 commands in total

И Testing 77 commands...
 Progress will be updated in TODO.md
2025-06-11 22:14:37 - domd.core.services.command_service - INFO - Executing command: ansible all -i .pre-commit-config.yaml -m ping
2025-06-11 22:14:38 - domd.core.services.command_service - INFO - Executing command: docker build -t chat .

